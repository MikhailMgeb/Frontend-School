<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Эмоджи ковчег</title>
    <link rel="stylesheet" href="https://cdn.rawgit.com/Chalarangelo/mini.css/v3.0.1/dist/mini-default.min.css">
    <link rel="stylesheet" href="/style.css">
</head>

<body class="page">
    <div class="block-emojies">
        <span class="emojies steep" data-emoji="steep" data-emoji-number="1">😎</span>
        <span class="emojies steep" data-emoji="steep" data-emoji-number="2">😎</span>
        <span class="emojies cool" data-emoji="cool" data-emoji-number="1">👍</span>
        <span class="emojies cool" data-emoji="cool" data-emoji-number="2">👍</span>
        <span class="emojies embrace" data-emoji="embrace" data-emoji-number="1">🙌</span>
        <span class="emojies embrace" data-emoji="embrace" data-emoji-number="2">🙌</span>
        <span class="emojies smile" data-emoji="smile" data-emoji-number="1">😌</span>
        <span class="emojies smile" data-emoji="smile" data-emoji-number="2">😌</span>
        <span class="emojies heart" data-emoji="heart" data-emoji-number="1">❤️</span>
        <span class="emojies heart" data-emoji="heart" data-emoji-number="2">❤️</span>
    </div>

    <script>
        const page = document.querySelector('.page');
        const blockEmojies = document.querySelector('.block-emojies');
        const emojies = document.querySelectorAll('.emojies');

        const screenWidth = window.screen.width;
        const screenHeight = window.screen.height;

        let count = 0;
        let lastDataSet = '';
        let lastDataSetNumber = '';

        for (let emoji of emojies) {
            emoji.clientX = Math.floor(Math.random() * (screenWidth / 1.5));
            emoji.style.left = emoji.clientX + 'px';

            emoji.clientY = Math.floor(Math.random() * (screenHeight / 1.5));
            emoji.style.top = emoji.clientY + 'px';
        }

        blockEmojies.addEventListener('mouseover', function (event) {
            let emojiClass = event.target.closest('.emojies');

            if (!emojiClass) {
                return;
            }

            let emojiDate = emojiClass.dataset.emoji;
            let emojiDateNumber = emojiClass.dataset.emojiNumber;

            if (emojiDate === lastDataSet && emojiDateNumber !== lastDataSetNumber) {
                emojiClass.remove();
                lastEventElement.remove();
                return;
            }

            lastDataSet = event.target.dataset.emoji;
            lastDataSetNumber = event.target.dataset.emojiNumber;
            lastEventElement = event.target;
        })

    </script>
</body>

</html>